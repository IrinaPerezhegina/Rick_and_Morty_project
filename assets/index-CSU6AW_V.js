const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CharacterPage-B8rpTAIu.js","assets/vendor-9cKIItrY.js","assets/InfiniteScrollWidget-DSjL72n-.js","assets/loader-DOcktiD5.js","assets/logo-black-8uRHbBAf.js","assets/logo-ChWWtVyl.js","assets/InfiniteScrollWidget-Dx26_4Qe.css","assets/MainPage-DSBO3530.js"])))=>i.map(i=>d[i]);
import{r as n,a as A,c as P,f as B,b as E,H as k,j as a,u as F,R as O,d as L,F as M,e as $,g as z,B as D,P as I}from"./vendor-9cKIItrY.js";import{F as q}from"./loader-DOcktiD5.js";import{F as G}from"./logo-black-8uRHbBAf.js";import{F as H}from"./logo-ChWWtVyl.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();const U="modulepreload",V=function(t){return"/Rick_and_Morty_project/"+t},_={},R=function(e,r,s){let o=Promise.resolve();if(r&&r.length>0){let d=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=i?.nonce||i?.getAttribute("nonce");o=d(r.map(u=>{if(u=V(u),u in _)return;_[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":U,f||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),f)return new Promise((m,v)=>{p.addEventListener("load",m),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function l(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return o.then(i=>{for(const c of i||[])c.status==="rejected"&&l(c.reason);return e().catch(l)})},Q=n.lazy(()=>R(()=>import("./CharacterPage-B8rpTAIu.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),T=n.lazy(()=>R(()=>import("./MainPage-DSBO3530.js"),__vite__mapDeps([7,1,2,3,4,5,6])));A.create({baseURL:"https://rickandmortyapi.com/api/"});const x=P({reducerPath:"rtkApi",baseQuery:B({baseUrl:"https://rickandmortyapi.com/api/"}),endpoints:()=>({})});function g(t,e,r){const s=[t,e,r],o=s.find(d=>typeof d=="string"),l=s.find(d=>Object.prototype.toString.call(d)==="[object Object]"),i=l?Object.entries(l):[],c=s.find(d=>Array.isArray(d))?.filter(Boolean)||[];return[o,...c,...i.filter(([d,u])=>!!u).map(([d])=>d)].join(" ")}function K(t){const e={};return t.status&&(e.status=t.status),t.gender&&(e.gender=t.gender),t.search&&(e.name=t.search),t.species&&(e.species=t.species),t.page&&(e.page=t.page),e}const W=x.injectEndpoints({endpoints:t=>({getCharacterById:t.query({query:e=>({url:`/character/${e}`})})})}),ye=W.useGetCharacterByIdQuery,y=x.injectEndpoints({endpoints:t=>({getCharactersListData:t.query({query:e=>({url:"/character",params:{...K(e)}}),transformResponse:(e,r,s)=>{const{info:o,results:l}=e,{next:i}=o,c=l.map(d=>d.status==="unknown"?{...d,status:"Unknown"}:d);return{next:!!i,results:c,page:s.page}}})})}),je=y.useGetCharactersListDataQuery,J={isLoading:!1,error:void 0,data:[],isNext:!0,isLoadingInitial:!0},C=E({name:"characters",initialState:J,reducers:{onEditCharacterCard(t,e){t.data=t.data.map(r=>r.id===e.payload.id?{...r,name:e.payload.name,status:e.payload.status,location:{name:e.payload.location,url:r.location.url}}:r)}},extraReducers:t=>{t.addMatcher(y.endpoints.getCharactersListData.matchPending,e=>{e.error=void 0,e.isLoading=!0}).addMatcher(y.endpoints.getCharactersListData.matchFulfilled,(e,r)=>{r.payload.page===1&&(e.data=r.payload.results),r.payload.page>1&&(e.data=[...e.data,...r.payload.results]),e.isNext=r.payload.next,e.error=void 0,e.isLoading=!1,e.isLoadingInitial=!1}).addMatcher(y.endpoints.getCharactersListData.matchRejected,(e,r)=>{r?.payload?.status===k.NotFound?e.error=void 0:(e.isLoadingInitial=!1,e.error="Data upload error"),e.isLoading=!1,e.data=[]})}}),{actions:be}=C,{reducer:X}=C,Le=n.memo(t=>{const{className:e,children:r,isLoading:s}=t;return s?a.jsx(j,{variant:"bigLoader",text:"Loading characters..."}):a.jsx("div",{className:g("characters-wrapper",e),children:r})});n.memo(t=>{const{className:e,error:r}=t;if(r)return a.jsx("div",{className:g("error",e),children:r})});const Y=n.memo(()=>a.jsx("div",{children:a.jsx("p",{children:"Made with love by PerezheginaIrina"})})),Z=({title:t,titleId:e,...r},s)=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:10,height:5,fill:"none",viewBox:"0 0 10 5",ref:s,"aria-labelledby":e,...r},t?n.createElement("title",{id:e},t):null,n.createElement("path",{fill:"#000",fillOpacity:.54,d:"m0 0 5 5 5-5z"})),ee=n.forwardRef(Z),te=({title:t,titleId:e,...r},s)=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:10,height:6,fill:"none",viewBox:"0 0 10 6",ref:s,"aria-labelledby":e,...r},t?n.createElement("title",{id:e},t):null,n.createElement("path",{fill:"#000",fillOpacity:.54,d:"M10 5.776 5 .813 0 5.776z"})),re=n.forwardRef(te),ae=({title:t,titleId:e,...r},s)=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",ref:s,"aria-labelledby":e,...r},t?n.createElement("title",{id:e},t):null,n.createElement("path",{fill:"#000",d:"M16 7H3.83l5.59-5.59L8 0 0 8l8 8 1.41-1.41L3.83 9H16z"})),ne=n.forwardRef(ae),se=({title:t,titleId:e,...r},s)=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:10,fill:"none",viewBox:"0 0 14 10",ref:s,"aria-labelledby":e,...r},t?n.createElement("title",{id:e},t):null,n.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M13.01.758a1 1 0 0 1 0 1.414l-7.07 7.07a1 1 0 0 1-1.415 0L.99 5.707a1 1 0 1 1 1.415-1.414L5.233 7.12 11.595.758a1 1 0 0 1 1.415 0",clipRule:"evenodd"})),_e=n.forwardRef(se),oe=({title:t,titleId:e,...r},s)=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:10,height:10,fill:"none",viewBox:"0 0 10 10",ref:s,"aria-labelledby":e,...r},t?n.createElement("title",{id:e},t):null,n.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M9.243.757a1 1 0 0 1 0 1.415L6.414 5l2.829 2.828a1 1 0 1 1-1.415 1.415L5 6.414 2.172 9.243A1 1 0 1 1 .757 7.828L3.586 5 .757 2.172A1 1 0 0 1 2.172.757L5 3.586 7.828.757a1 1 0 0 1 1.415 0",clipRule:"evenodd"})),Ee=n.forwardRef(oe),le=({title:t,titleId:e,...r},s)=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",ref:s,"aria-labelledby":e,...r},t?n.createElement("title",{id:e},t):null,n.createElement("path",{fill:"#000",fillOpacity:.54,d:"M15.5 15h-.79l-.28-.27A6.47 6.47 0 0 0 16 10.5 6.5 6.5 0 1 0 9.5 17c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 20zm-6 0C7.01 15 5 12.99 5 10.5S7.01 6 9.5 6 14 8.01 14 10.5 11.99 15 9.5 15"})),Re=n.forwardRef(le),ie=({title:t,titleId:e,...r},s)=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:13,height:13,fill:"none",viewBox:"0 0 13 13",ref:s,"aria-labelledby":e,...r},t?n.createElement("title",{id:e},t):null,n.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M7.83.626c.83-.83 2.176-.83 3.006 0l1.538 1.538c.83.83.83 2.175 0 3.005l-7.498 7.499a.7.7 0 0 1-.501.207H.833a.71.71 0 0 1-.708-.708V8.625c0-.188.075-.368.207-.5zm2.004 1.002a.71.71 0 0 0-1.002 0l-.622.622 2.54 2.54.622-.623a.71.71 0 0 0 0-1.001zm-.086 4.164-2.54-2.54-5.666 5.666v2.54h2.54z",clipRule:"evenodd"})),Ce=n.forwardRef(ie),Se=n.memo(t=>{const{className:e}=t,r=F(),s=()=>{r(-1)};return a.jsx("div",{className:g("go-back-button",e),children:a.jsxs("button",{onClick:s,children:[a.jsx(ne,{}),"GO BACK"]})})}),ce=n.memo(()=>a.jsx("div",{className:"header-wrapper",children:a.jsx(G,{})})),Ne=n.memo(t=>{const{name:e,readonly:r,value:s,Svg:o,className:l,onChange:i,view:c="underlined",placeholder:d="",size:u="big"}=t,f=h=>{i?.(h.target.value)};return a.jsxs("div",{className:g("input",{input_bordered:c==="bordered",input_underlined:c==="underlined",input_big:u==="big",input_small:u==="small",readonly:r},l),children:[o&&o,a.jsx("input",{name:e,value:s,placeholder:d,onChange:f})]})}),j=n.memo(t=>{const{isLoading:e=!0,variant:r="smallLoader",text:s=""}=t;if(e)return a.jsxs("div",{className:g("loader",{loader_big:r==="bigLoader",loader_small:r==="smallLoader"}),children:[a.jsx(q,{}),a.jsx("p",{children:s})]})}),Ae=n.memo(()=>a.jsx("div",{children:a.jsx(H,{className:"logo"})})),de=({head:t=a.jsx(ce,{}),footer:e=a.jsx(Y,{}),children:r})=>a.jsxs("div",{className:"page-layout",children:[a.jsx("div",{className:"page-layout__head",children:t}),a.jsx("div",{className:"page-layout__center",children:r}),a.jsx("div",{className:"page-layout__footer",children:e})]}),ue=t=>a.jsx(a.Fragment,{children:t.value}),Pe=n.memo(t=>{const{options:e,onChange:r,value:s,placeholder:o="",view:l="big",SelectOptionContentComponent:i=ue}=t,[c,d]=n.useState(!1),u=n.useRef(null);n.useEffect(()=>{const m=v=>{u.current&&!u.current.contains(v.target)&&d(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]);const f=()=>{d(!c)},h=n.useCallback(m=>{const v=m.target,b=e?.find(N=>N.id===v.id);b&&(r&&r(b.content),d(!1))},[e,r]),p=n.useMemo(()=>e?.map(m=>{if(m.content!==s)return a.jsx("div",{id:m.id,className:"select__options-container-option",children:a.jsx(i,{value:m.content})},m.id)}),[e,s,i]);return a.jsxs("div",{role:"select",ref:u,className:g("select",{select_big:l==="big",select_small:l==="small"}),children:[a.jsxs("div",{className:"select__header",onClick:f,children:[a.jsx("div",{className:"select__header-wrapper",children:s?a.jsx(i,{value:s}):o}),c?a.jsx(re,{className:"select__header-arrow"}):a.jsx(ee,{className:"select__header-arrow"})]}),c&&a.jsx("div",{onClick:h,className:"select__options-container",children:p})]})});function me(){return a.jsxs(de,{children:[a.jsxs(O,{children:[a.jsx(L,{path:"/",element:a.jsx(n.Suspense,{fallback:a.jsx(j,{variant:"bigLoader",text:"Loading characters..."}),children:a.jsx(T,{})})}),a.jsx(L,{path:"characters/:id",element:a.jsx(n.Suspense,{fallback:a.jsx(j,{variant:"bigLoader",text:"Loading character card..."}),children:a.jsx(Q,{})})})]}),a.jsx(M,{})]})}const w=1,fe={search:"",status:"",species:"",gender:"",page:w},S=E({name:"filter",initialState:fe,reducers:{onChangeStatus(t,e){t.status=e.payload,t.page=w},onChangeSpecies(t,e){t.species=e.payload,t.page=w},onChangeGender(t,e){t.gender=e.payload,t.page=w},onChangePage(t){t.page=t.page+1},onChangeSearchValue(t,e){t.search=e.payload,t.page=w}}}),{actions:Be}=S,{reducer:pe}=S,he=$({reducer:{filter:pe,characters:X,[x.reducerPath]:x.reducer},middleware:t=>t().concat(x.middleware)});z.createRoot(document.getElementById("root")).render(a.jsx(D,{basename:"Rick_and_Morty_project",children:a.jsx(I,{store:he,children:a.jsx(me,{})})}));export{Le as C,Ee as F,Se as G,Ne as I,j as L,Pe as S,je as a,Ae as b,be as c,g as d,Ce as e,Be as f,_e as g,Re as h,ye as u};
